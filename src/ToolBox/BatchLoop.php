<?php

namespace GeekLab\ToolBox;

class BatchLoop
{
    /**
     * THIS IS A MICRO-OPTIMIZATION AND ONLY USE IF DOING >=1,000,000 ITERATIONS AND REALLY NEED TO SHAVE 1 SECOND.
     * Batches 1000 calls at a time (or 1 at a time if not divisible by 1000)
     * See: https://makezine.com/2008/05/20/duffs-device-loop-unrolling-fo/
     *
     * @param int      $iterations
     * @param callable $callback
     */
    public function run(int $iterations, callable $callback): void
    {
        $i = 0;
        $n = $iterations % 1000;

        if(0 < $n)
        {
            do
            {
                $callback($i);
                ++$i;
            }
            while(--$n);
        }

        $n = intval($iterations / 1000);

        if(1 <= $n)
        {
            do
            {
                $callback($i);
                $callback($i + 1);
                $callback($i + 2);
                $callback($i + 3);
                $callback($i + 4);
                $callback($i + 5);
                $callback($i + 6);
                $callback($i + 7);
                $callback($i + 8);
                $callback($i + 9);
                $callback($i + 10);
                $callback($i + 11);
                $callback($i + 12);
                $callback($i + 13);
                $callback($i + 14);
                $callback($i + 15);
                $callback($i + 16);
                $callback($i + 17);
                $callback($i + 18);
                $callback($i + 19);
                $callback($i + 20);
                $callback($i + 21);
                $callback($i + 22);
                $callback($i + 23);
                $callback($i + 24);
                $callback($i + 25);
                $callback($i + 26);
                $callback($i + 27);
                $callback($i + 28);
                $callback($i + 29);
                $callback($i + 30);
                $callback($i + 31);
                $callback($i + 32);
                $callback($i + 33);
                $callback($i + 34);
                $callback($i + 35);
                $callback($i + 36);
                $callback($i + 37);
                $callback($i + 38);
                $callback($i + 39);
                $callback($i + 40);
                $callback($i + 41);
                $callback($i + 42);
                $callback($i + 43);
                $callback($i + 44);
                $callback($i + 45);
                $callback($i + 46);
                $callback($i + 47);
                $callback($i + 48);
                $callback($i + 49);
                $callback($i + 50);
                $callback($i + 51);
                $callback($i + 52);
                $callback($i + 53);
                $callback($i + 54);
                $callback($i + 55);
                $callback($i + 56);
                $callback($i + 57);
                $callback($i + 58);
                $callback($i + 59);
                $callback($i + 60);
                $callback($i + 61);
                $callback($i + 62);
                $callback($i + 63);
                $callback($i + 64);
                $callback($i + 65);
                $callback($i + 66);
                $callback($i + 67);
                $callback($i + 68);
                $callback($i + 69);
                $callback($i + 70);
                $callback($i + 71);
                $callback($i + 72);
                $callback($i + 73);
                $callback($i + 74);
                $callback($i + 75);
                $callback($i + 76);
                $callback($i + 77);
                $callback($i + 78);
                $callback($i + 79);
                $callback($i + 80);
                $callback($i + 81);
                $callback($i + 82);
                $callback($i + 83);
                $callback($i + 84);
                $callback($i + 85);
                $callback($i + 86);
                $callback($i + 87);
                $callback($i + 88);
                $callback($i + 89);
                $callback($i + 90);
                $callback($i + 91);
                $callback($i + 92);
                $callback($i + 93);
                $callback($i + 94);
                $callback($i + 95);
                $callback($i + 96);
                $callback($i + 97);
                $callback($i + 98);
                $callback($i + 99);
                $callback($i + 100);
                $callback($i + 101);
                $callback($i + 102);
                $callback($i + 103);
                $callback($i + 104);
                $callback($i + 105);
                $callback($i + 106);
                $callback($i + 107);
                $callback($i + 108);
                $callback($i + 109);
                $callback($i + 110);
                $callback($i + 111);
                $callback($i + 112);
                $callback($i + 113);
                $callback($i + 114);
                $callback($i + 115);
                $callback($i + 116);
                $callback($i + 117);
                $callback($i + 118);
                $callback($i + 119);
                $callback($i + 120);
                $callback($i + 121);
                $callback($i + 122);
                $callback($i + 123);
                $callback($i + 124);
                $callback($i + 125);
                $callback($i + 126);
                $callback($i + 127);
                $callback($i + 128);
                $callback($i + 129);
                $callback($i + 130);
                $callback($i + 131);
                $callback($i + 132);
                $callback($i + 133);
                $callback($i + 134);
                $callback($i + 135);
                $callback($i + 136);
                $callback($i + 137);
                $callback($i + 138);
                $callback($i + 139);
                $callback($i + 140);
                $callback($i + 141);
                $callback($i + 142);
                $callback($i + 143);
                $callback($i + 144);
                $callback($i + 145);
                $callback($i + 146);
                $callback($i + 147);
                $callback($i + 148);
                $callback($i + 149);
                $callback($i + 150);
                $callback($i + 151);
                $callback($i + 152);
                $callback($i + 153);
                $callback($i + 154);
                $callback($i + 155);
                $callback($i + 156);
                $callback($i + 157);
                $callback($i + 158);
                $callback($i + 159);
                $callback($i + 160);
                $callback($i + 161);
                $callback($i + 162);
                $callback($i + 163);
                $callback($i + 164);
                $callback($i + 165);
                $callback($i + 166);
                $callback($i + 167);
                $callback($i + 168);
                $callback($i + 169);
                $callback($i + 170);
                $callback($i + 171);
                $callback($i + 172);
                $callback($i + 173);
                $callback($i + 174);
                $callback($i + 175);
                $callback($i + 176);
                $callback($i + 177);
                $callback($i + 178);
                $callback($i + 179);
                $callback($i + 180);
                $callback($i + 181);
                $callback($i + 182);
                $callback($i + 183);
                $callback($i + 184);
                $callback($i + 185);
                $callback($i + 186);
                $callback($i + 187);
                $callback($i + 188);
                $callback($i + 189);
                $callback($i + 190);
                $callback($i + 191);
                $callback($i + 192);
                $callback($i + 193);
                $callback($i + 194);
                $callback($i + 195);
                $callback($i + 196);
                $callback($i + 197);
                $callback($i + 198);
                $callback($i + 199);
                $callback($i + 200);
                $callback($i + 201);
                $callback($i + 202);
                $callback($i + 203);
                $callback($i + 204);
                $callback($i + 205);
                $callback($i + 206);
                $callback($i + 207);
                $callback($i + 208);
                $callback($i + 209);
                $callback($i + 210);
                $callback($i + 211);
                $callback($i + 212);
                $callback($i + 213);
                $callback($i + 214);
                $callback($i + 215);
                $callback($i + 216);
                $callback($i + 217);
                $callback($i + 218);
                $callback($i + 219);
                $callback($i + 220);
                $callback($i + 221);
                $callback($i + 222);
                $callback($i + 223);
                $callback($i + 224);
                $callback($i + 225);
                $callback($i + 226);
                $callback($i + 227);
                $callback($i + 228);
                $callback($i + 229);
                $callback($i + 230);
                $callback($i + 231);
                $callback($i + 232);
                $callback($i + 233);
                $callback($i + 234);
                $callback($i + 235);
                $callback($i + 236);
                $callback($i + 237);
                $callback($i + 238);
                $callback($i + 239);
                $callback($i + 240);
                $callback($i + 241);
                $callback($i + 242);
                $callback($i + 243);
                $callback($i + 244);
                $callback($i + 245);
                $callback($i + 246);
                $callback($i + 247);
                $callback($i + 248);
                $callback($i + 249);
                $callback($i + 250);
                $callback($i + 251);
                $callback($i + 252);
                $callback($i + 253);
                $callback($i + 254);
                $callback($i + 255);
                $callback($i + 256);
                $callback($i + 257);
                $callback($i + 258);
                $callback($i + 259);
                $callback($i + 260);
                $callback($i + 261);
                $callback($i + 262);
                $callback($i + 263);
                $callback($i + 264);
                $callback($i + 265);
                $callback($i + 266);
                $callback($i + 267);
                $callback($i + 268);
                $callback($i + 269);
                $callback($i + 270);
                $callback($i + 271);
                $callback($i + 272);
                $callback($i + 273);
                $callback($i + 274);
                $callback($i + 275);
                $callback($i + 276);
                $callback($i + 277);
                $callback($i + 278);
                $callback($i + 279);
                $callback($i + 280);
                $callback($i + 281);
                $callback($i + 282);
                $callback($i + 283);
                $callback($i + 284);
                $callback($i + 285);
                $callback($i + 286);
                $callback($i + 287);
                $callback($i + 288);
                $callback($i + 289);
                $callback($i + 290);
                $callback($i + 291);
                $callback($i + 292);
                $callback($i + 293);
                $callback($i + 294);
                $callback($i + 295);
                $callback($i + 296);
                $callback($i + 297);
                $callback($i + 298);
                $callback($i + 299);
                $callback($i + 300);
                $callback($i + 301);
                $callback($i + 302);
                $callback($i + 303);
                $callback($i + 304);
                $callback($i + 305);
                $callback($i + 306);
                $callback($i + 307);
                $callback($i + 308);
                $callback($i + 309);
                $callback($i + 310);
                $callback($i + 311);
                $callback($i + 312);
                $callback($i + 313);
                $callback($i + 314);
                $callback($i + 315);
                $callback($i + 316);
                $callback($i + 317);
                $callback($i + 318);
                $callback($i + 319);
                $callback($i + 320);
                $callback($i + 321);
                $callback($i + 322);
                $callback($i + 323);
                $callback($i + 324);
                $callback($i + 325);
                $callback($i + 326);
                $callback($i + 327);
                $callback($i + 328);
                $callback($i + 329);
                $callback($i + 330);
                $callback($i + 331);
                $callback($i + 332);
                $callback($i + 333);
                $callback($i + 334);
                $callback($i + 335);
                $callback($i + 336);
                $callback($i + 337);
                $callback($i + 338);
                $callback($i + 339);
                $callback($i + 340);
                $callback($i + 341);
                $callback($i + 342);
                $callback($i + 343);
                $callback($i + 344);
                $callback($i + 345);
                $callback($i + 346);
                $callback($i + 347);
                $callback($i + 348);
                $callback($i + 349);
                $callback($i + 350);
                $callback($i + 351);
                $callback($i + 352);
                $callback($i + 353);
                $callback($i + 354);
                $callback($i + 355);
                $callback($i + 356);
                $callback($i + 357);
                $callback($i + 358);
                $callback($i + 359);
                $callback($i + 360);
                $callback($i + 361);
                $callback($i + 362);
                $callback($i + 363);
                $callback($i + 364);
                $callback($i + 365);
                $callback($i + 366);
                $callback($i + 367);
                $callback($i + 368);
                $callback($i + 369);
                $callback($i + 370);
                $callback($i + 371);
                $callback($i + 372);
                $callback($i + 373);
                $callback($i + 374);
                $callback($i + 375);
                $callback($i + 376);
                $callback($i + 377);
                $callback($i + 378);
                $callback($i + 379);
                $callback($i + 380);
                $callback($i + 381);
                $callback($i + 382);
                $callback($i + 383);
                $callback($i + 384);
                $callback($i + 385);
                $callback($i + 386);
                $callback($i + 387);
                $callback($i + 388);
                $callback($i + 389);
                $callback($i + 390);
                $callback($i + 391);
                $callback($i + 392);
                $callback($i + 393);
                $callback($i + 394);
                $callback($i + 395);
                $callback($i + 396);
                $callback($i + 397);
                $callback($i + 398);
                $callback($i + 399);
                $callback($i + 400);
                $callback($i + 401);
                $callback($i + 402);
                $callback($i + 403);
                $callback($i + 404);
                $callback($i + 405);
                $callback($i + 406);
                $callback($i + 407);
                $callback($i + 408);
                $callback($i + 409);
                $callback($i + 410);
                $callback($i + 411);
                $callback($i + 412);
                $callback($i + 413);
                $callback($i + 414);
                $callback($i + 415);
                $callback($i + 416);
                $callback($i + 417);
                $callback($i + 418);
                $callback($i + 419);
                $callback($i + 420);
                $callback($i + 421);
                $callback($i + 422);
                $callback($i + 423);
                $callback($i + 424);
                $callback($i + 425);
                $callback($i + 426);
                $callback($i + 427);
                $callback($i + 428);
                $callback($i + 429);
                $callback($i + 430);
                $callback($i + 431);
                $callback($i + 432);
                $callback($i + 433);
                $callback($i + 434);
                $callback($i + 435);
                $callback($i + 436);
                $callback($i + 437);
                $callback($i + 438);
                $callback($i + 439);
                $callback($i + 440);
                $callback($i + 441);
                $callback($i + 442);
                $callback($i + 443);
                $callback($i + 444);
                $callback($i + 445);
                $callback($i + 446);
                $callback($i + 447);
                $callback($i + 448);
                $callback($i + 449);
                $callback($i + 450);
                $callback($i + 451);
                $callback($i + 452);
                $callback($i + 453);
                $callback($i + 454);
                $callback($i + 455);
                $callback($i + 456);
                $callback($i + 457);
                $callback($i + 458);
                $callback($i + 459);
                $callback($i + 460);
                $callback($i + 461);
                $callback($i + 462);
                $callback($i + 463);
                $callback($i + 464);
                $callback($i + 465);
                $callback($i + 466);
                $callback($i + 467);
                $callback($i + 468);
                $callback($i + 469);
                $callback($i + 470);
                $callback($i + 471);
                $callback($i + 472);
                $callback($i + 473);
                $callback($i + 474);
                $callback($i + 475);
                $callback($i + 476);
                $callback($i + 477);
                $callback($i + 478);
                $callback($i + 479);
                $callback($i + 480);
                $callback($i + 481);
                $callback($i + 482);
                $callback($i + 483);
                $callback($i + 484);
                $callback($i + 485);
                $callback($i + 486);
                $callback($i + 487);
                $callback($i + 488);
                $callback($i + 489);
                $callback($i + 490);
                $callback($i + 491);
                $callback($i + 492);
                $callback($i + 493);
                $callback($i + 494);
                $callback($i + 495);
                $callback($i + 496);
                $callback($i + 497);
                $callback($i + 498);
                $callback($i + 499);
                $callback($i + 500);
                $callback($i + 501);
                $callback($i + 502);
                $callback($i + 503);
                $callback($i + 504);
                $callback($i + 505);
                $callback($i + 506);
                $callback($i + 507);
                $callback($i + 508);
                $callback($i + 509);
                $callback($i + 510);
                $callback($i + 511);
                $callback($i + 512);
                $callback($i + 513);
                $callback($i + 514);
                $callback($i + 515);
                $callback($i + 516);
                $callback($i + 517);
                $callback($i + 518);
                $callback($i + 519);
                $callback($i + 520);
                $callback($i + 521);
                $callback($i + 522);
                $callback($i + 523);
                $callback($i + 524);
                $callback($i + 525);
                $callback($i + 526);
                $callback($i + 527);
                $callback($i + 528);
                $callback($i + 529);
                $callback($i + 530);
                $callback($i + 531);
                $callback($i + 532);
                $callback($i + 533);
                $callback($i + 534);
                $callback($i + 535);
                $callback($i + 536);
                $callback($i + 537);
                $callback($i + 538);
                $callback($i + 539);
                $callback($i + 540);
                $callback($i + 541);
                $callback($i + 542);
                $callback($i + 543);
                $callback($i + 544);
                $callback($i + 545);
                $callback($i + 546);
                $callback($i + 547);
                $callback($i + 548);
                $callback($i + 549);
                $callback($i + 550);
                $callback($i + 551);
                $callback($i + 552);
                $callback($i + 553);
                $callback($i + 554);
                $callback($i + 555);
                $callback($i + 556);
                $callback($i + 557);
                $callback($i + 558);
                $callback($i + 559);
                $callback($i + 560);
                $callback($i + 561);
                $callback($i + 562);
                $callback($i + 563);
                $callback($i + 564);
                $callback($i + 565);
                $callback($i + 566);
                $callback($i + 567);
                $callback($i + 568);
                $callback($i + 569);
                $callback($i + 570);
                $callback($i + 571);
                $callback($i + 572);
                $callback($i + 573);
                $callback($i + 574);
                $callback($i + 575);
                $callback($i + 576);
                $callback($i + 577);
                $callback($i + 578);
                $callback($i + 579);
                $callback($i + 580);
                $callback($i + 581);
                $callback($i + 582);
                $callback($i + 583);
                $callback($i + 584);
                $callback($i + 585);
                $callback($i + 586);
                $callback($i + 587);
                $callback($i + 588);
                $callback($i + 589);
                $callback($i + 590);
                $callback($i + 591);
                $callback($i + 592);
                $callback($i + 593);
                $callback($i + 594);
                $callback($i + 595);
                $callback($i + 596);
                $callback($i + 597);
                $callback($i + 598);
                $callback($i + 599);
                $callback($i + 600);
                $callback($i + 601);
                $callback($i + 602);
                $callback($i + 603);
                $callback($i + 604);
                $callback($i + 605);
                $callback($i + 606);
                $callback($i + 607);
                $callback($i + 608);
                $callback($i + 609);
                $callback($i + 610);
                $callback($i + 611);
                $callback($i + 612);
                $callback($i + 613);
                $callback($i + 614);
                $callback($i + 615);
                $callback($i + 616);
                $callback($i + 617);
                $callback($i + 618);
                $callback($i + 619);
                $callback($i + 620);
                $callback($i + 621);
                $callback($i + 622);
                $callback($i + 623);
                $callback($i + 624);
                $callback($i + 625);
                $callback($i + 626);
                $callback($i + 627);
                $callback($i + 628);
                $callback($i + 629);
                $callback($i + 630);
                $callback($i + 631);
                $callback($i + 632);
                $callback($i + 633);
                $callback($i + 634);
                $callback($i + 635);
                $callback($i + 636);
                $callback($i + 637);
                $callback($i + 638);
                $callback($i + 639);
                $callback($i + 640);
                $callback($i + 641);
                $callback($i + 642);
                $callback($i + 643);
                $callback($i + 644);
                $callback($i + 645);
                $callback($i + 646);
                $callback($i + 647);
                $callback($i + 648);
                $callback($i + 649);
                $callback($i + 650);
                $callback($i + 651);
                $callback($i + 652);
                $callback($i + 653);
                $callback($i + 654);
                $callback($i + 655);
                $callback($i + 656);
                $callback($i + 657);
                $callback($i + 658);
                $callback($i + 659);
                $callback($i + 660);
                $callback($i + 661);
                $callback($i + 662);
                $callback($i + 663);
                $callback($i + 664);
                $callback($i + 665);
                $callback($i + 666);
                $callback($i + 667);
                $callback($i + 668);
                $callback($i + 669);
                $callback($i + 670);
                $callback($i + 671);
                $callback($i + 672);
                $callback($i + 673);
                $callback($i + 674);
                $callback($i + 675);
                $callback($i + 676);
                $callback($i + 677);
                $callback($i + 678);
                $callback($i + 679);
                $callback($i + 680);
                $callback($i + 681);
                $callback($i + 682);
                $callback($i + 683);
                $callback($i + 684);
                $callback($i + 685);
                $callback($i + 686);
                $callback($i + 687);
                $callback($i + 688);
                $callback($i + 689);
                $callback($i + 690);
                $callback($i + 691);
                $callback($i + 692);
                $callback($i + 693);
                $callback($i + 694);
                $callback($i + 695);
                $callback($i + 696);
                $callback($i + 697);
                $callback($i + 698);
                $callback($i + 699);
                $callback($i + 700);
                $callback($i + 701);
                $callback($i + 702);
                $callback($i + 703);
                $callback($i + 704);
                $callback($i + 705);
                $callback($i + 706);
                $callback($i + 707);
                $callback($i + 708);
                $callback($i + 709);
                $callback($i + 710);
                $callback($i + 711);
                $callback($i + 712);
                $callback($i + 713);
                $callback($i + 714);
                $callback($i + 715);
                $callback($i + 716);
                $callback($i + 717);
                $callback($i + 718);
                $callback($i + 719);
                $callback($i + 720);
                $callback($i + 721);
                $callback($i + 722);
                $callback($i + 723);
                $callback($i + 724);
                $callback($i + 725);
                $callback($i + 726);
                $callback($i + 727);
                $callback($i + 728);
                $callback($i + 729);
                $callback($i + 730);
                $callback($i + 731);
                $callback($i + 732);
                $callback($i + 733);
                $callback($i + 734);
                $callback($i + 735);
                $callback($i + 736);
                $callback($i + 737);
                $callback($i + 738);
                $callback($i + 739);
                $callback($i + 740);
                $callback($i + 741);
                $callback($i + 742);
                $callback($i + 743);
                $callback($i + 744);
                $callback($i + 745);
                $callback($i + 746);
                $callback($i + 747);
                $callback($i + 748);
                $callback($i + 749);
                $callback($i + 750);
                $callback($i + 751);
                $callback($i + 752);
                $callback($i + 753);
                $callback($i + 754);
                $callback($i + 755);
                $callback($i + 756);
                $callback($i + 757);
                $callback($i + 758);
                $callback($i + 759);
                $callback($i + 760);
                $callback($i + 761);
                $callback($i + 762);
                $callback($i + 763);
                $callback($i + 764);
                $callback($i + 765);
                $callback($i + 766);
                $callback($i + 767);
                $callback($i + 768);
                $callback($i + 769);
                $callback($i + 770);
                $callback($i + 771);
                $callback($i + 772);
                $callback($i + 773);
                $callback($i + 774);
                $callback($i + 775);
                $callback($i + 776);
                $callback($i + 777);
                $callback($i + 778);
                $callback($i + 779);
                $callback($i + 780);
                $callback($i + 781);
                $callback($i + 782);
                $callback($i + 783);
                $callback($i + 784);
                $callback($i + 785);
                $callback($i + 786);
                $callback($i + 787);
                $callback($i + 788);
                $callback($i + 789);
                $callback($i + 790);
                $callback($i + 791);
                $callback($i + 792);
                $callback($i + 793);
                $callback($i + 794);
                $callback($i + 795);
                $callback($i + 796);
                $callback($i + 797);
                $callback($i + 798);
                $callback($i + 799);
                $callback($i + 800);
                $callback($i + 801);
                $callback($i + 802);
                $callback($i + 803);
                $callback($i + 804);
                $callback($i + 805);
                $callback($i + 806);
                $callback($i + 807);
                $callback($i + 808);
                $callback($i + 809);
                $callback($i + 810);
                $callback($i + 811);
                $callback($i + 812);
                $callback($i + 813);
                $callback($i + 814);
                $callback($i + 815);
                $callback($i + 816);
                $callback($i + 817);
                $callback($i + 818);
                $callback($i + 819);
                $callback($i + 820);
                $callback($i + 821);
                $callback($i + 822);
                $callback($i + 823);
                $callback($i + 824);
                $callback($i + 825);
                $callback($i + 826);
                $callback($i + 827);
                $callback($i + 828);
                $callback($i + 829);
                $callback($i + 830);
                $callback($i + 831);
                $callback($i + 832);
                $callback($i + 833);
                $callback($i + 834);
                $callback($i + 835);
                $callback($i + 836);
                $callback($i + 837);
                $callback($i + 838);
                $callback($i + 839);
                $callback($i + 840);
                $callback($i + 841);
                $callback($i + 842);
                $callback($i + 843);
                $callback($i + 844);
                $callback($i + 845);
                $callback($i + 846);
                $callback($i + 847);
                $callback($i + 848);
                $callback($i + 849);
                $callback($i + 850);
                $callback($i + 851);
                $callback($i + 852);
                $callback($i + 853);
                $callback($i + 854);
                $callback($i + 855);
                $callback($i + 856);
                $callback($i + 857);
                $callback($i + 858);
                $callback($i + 859);
                $callback($i + 860);
                $callback($i + 861);
                $callback($i + 862);
                $callback($i + 863);
                $callback($i + 864);
                $callback($i + 865);
                $callback($i + 866);
                $callback($i + 867);
                $callback($i + 868);
                $callback($i + 869);
                $callback($i + 870);
                $callback($i + 871);
                $callback($i + 872);
                $callback($i + 873);
                $callback($i + 874);
                $callback($i + 875);
                $callback($i + 876);
                $callback($i + 877);
                $callback($i + 878);
                $callback($i + 879);
                $callback($i + 880);
                $callback($i + 881);
                $callback($i + 882);
                $callback($i + 883);
                $callback($i + 884);
                $callback($i + 885);
                $callback($i + 886);
                $callback($i + 887);
                $callback($i + 888);
                $callback($i + 889);
                $callback($i + 890);
                $callback($i + 891);
                $callback($i + 892);
                $callback($i + 893);
                $callback($i + 894);
                $callback($i + 895);
                $callback($i + 896);
                $callback($i + 897);
                $callback($i + 898);
                $callback($i + 899);
                $callback($i + 900);
                $callback($i + 901);
                $callback($i + 902);
                $callback($i + 903);
                $callback($i + 904);
                $callback($i + 905);
                $callback($i + 906);
                $callback($i + 907);
                $callback($i + 908);
                $callback($i + 909);
                $callback($i + 910);
                $callback($i + 911);
                $callback($i + 912);
                $callback($i + 913);
                $callback($i + 914);
                $callback($i + 915);
                $callback($i + 916);
                $callback($i + 917);
                $callback($i + 918);
                $callback($i + 919);
                $callback($i + 920);
                $callback($i + 921);
                $callback($i + 922);
                $callback($i + 923);
                $callback($i + 924);
                $callback($i + 925);
                $callback($i + 926);
                $callback($i + 927);
                $callback($i + 928);
                $callback($i + 929);
                $callback($i + 930);
                $callback($i + 931);
                $callback($i + 932);
                $callback($i + 933);
                $callback($i + 934);
                $callback($i + 935);
                $callback($i + 936);
                $callback($i + 937);
                $callback($i + 938);
                $callback($i + 939);
                $callback($i + 940);
                $callback($i + 941);
                $callback($i + 942);
                $callback($i + 943);
                $callback($i + 944);
                $callback($i + 945);
                $callback($i + 946);
                $callback($i + 947);
                $callback($i + 948);
                $callback($i + 949);
                $callback($i + 950);
                $callback($i + 951);
                $callback($i + 952);
                $callback($i + 953);
                $callback($i + 954);
                $callback($i + 955);
                $callback($i + 956);
                $callback($i + 957);
                $callback($i + 958);
                $callback($i + 959);
                $callback($i + 960);
                $callback($i + 961);
                $callback($i + 962);
                $callback($i + 963);
                $callback($i + 964);
                $callback($i + 965);
                $callback($i + 966);
                $callback($i + 967);
                $callback($i + 968);
                $callback($i + 969);
                $callback($i + 970);
                $callback($i + 971);
                $callback($i + 972);
                $callback($i + 973);
                $callback($i + 974);
                $callback($i + 975);
                $callback($i + 976);
                $callback($i + 977);
                $callback($i + 978);
                $callback($i + 979);
                $callback($i + 980);
                $callback($i + 981);
                $callback($i + 982);
                $callback($i + 983);
                $callback($i + 984);
                $callback($i + 985);
                $callback($i + 986);
                $callback($i + 987);
                $callback($i + 988);
                $callback($i + 989);
                $callback($i + 990);
                $callback($i + 991);
                $callback($i + 992);
                $callback($i + 993);
                $callback($i + 994);
                $callback($i + 995);
                $callback($i + 996);
                $callback($i + 997);
                $callback($i + 998);
                $callback($i + 999);

                $i += 1000;
            } while (--$n);
        }
    }
}